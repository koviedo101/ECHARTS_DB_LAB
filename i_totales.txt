CREATE ALGORITHM=UNDEFINED DEFINER=`renato`@`%` SQL SECURITY DEFINER VIEW `i_totales` AS select `p`.`id` AS `id`,ifnull(`v`.`total`,0) AS `planilla`,ifnull(`m`.`total`,0) AS `materiales`,ifnull(`g`.`total`,0) AS `gastos`,ifnull(`c`.`total`,0) AS `ingresos`,ifnull((((`c`.`total` - `v`.`total`) - `m`.`total`) - `g`.`total`),0) AS `margen` from ((((`projects` `p` left join `i_planilla_totales` `v` on((`v`.`id` = `p`.`id`))) left join `i_materiales_totales` `m` on((`m`.`id` = `p`.`id`))) left join `i_gastos_totales` `g` on((`g`.`id` = `p`.`id`))) left join `i_ingresos_totales` `c` on((`c`.`id` = `p`.`id`)))